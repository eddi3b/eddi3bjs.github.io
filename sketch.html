<!DOCTYPE html>
<!-- saved from url=(1346)http://threejsplaygnd.brangerbriz.com/editor/?id=id5630#B/zVZbb9s2FH62fwWbPVQZXEr2bCCxnQBDksbFUqyIXRh7pKVjialEciQV2S7633dISXaUbkAx7GGyLVPnfvl4qPmb299vVn98uiOZLfLr/rz+680zYAn+9+YFWEbijGkD9uqstNt3F2eeYew+B7fqbWSyJ1/dqrdh8ZdUy1Ik72KZSz0lP239NfPsgumUiymJ6kf5DHqby2pKMp4kIDz1mzMettbnYRPJ3Hlx7rzvWHNlidHx1VlmrZqGoc00wJNROdunIqEbzUQKeqP5gQqw4ZOpJWjBBX0yZ9fowhu5/tf2bsFCbKX+J3PXfZcO35KAvCFH4Qo2aU7OTwSWJPdg17C5f/gIxrAUgnNfCPd7ZprErADNBsTEIGBANIgENOhZy09BYpP0fkAKZkFzluMKTDbz/reliC2XgmD/ShWcY6N87Z3mmlyRiotEVpQLAXrNE5sNyOIVeQE8zWzdstY7igioyGrxeHdHffCPDaeJ/ihJ0fGSHyAga2e64SYyLgsQlrq2UqYUSt9kPE+CY4I0kcVdDk7KaXm1uhYd559AG4Wl5M9w47kBmUQDsg4XAzLEb4RX67VWp0oa7mpCD2hpEkWNcV/gju2lo7QJnW5hSBQzFsheltgfmQDZalkQm8GxG/efP5AM02hwr9BubfNDgS3+bHluaC5ZsoKdLTUEbykNbb0+hJVrJH1S6Vv03VrsRLaSujS/CWnvG24wijDr4eWEDuusm9vEV+GCjsdoqgVIxxSiLntgxQa0/djwg68mYwkX6bQtRCGlzZY1cUCavR3tkth9HPLU1N0QpTyBVutWlpsclkgZEIsbyCiGzbVTfCiRJBWLud2jHToefXPhYSTfhRZ8j2+fiaKVZmqJ8u16dazxIyhgdo00hfHW0trTHBoDrIyrDmlcUhOzHOjOmTo97ruPDioR/WXSqBwh5MTGdDxs6Fpa5unO2oRejF7TnfyQjsazvoeb2/6Bk8BYMii4UQ40D27DdSqx6PKCaFfP1QE2IfIXZkQvL89f2iWvLbpt1K+HbGc2fEEg+dFw3AZYrgLHcxtaOzFcVrfYBSpkhQo/RzSKhjX7P4RpvWX+11D1If44XFvxH4bakE5GsxftOMGk1x6SvU4LE82q03TX8GcJxv4qeOFh917j5Au8EHk5znCSwU5hlH7KVtxmr8aZERxnszUYnyhPA60GzN8PVZccdgez4SLooIU4uIyIW02ijvJxexxeAcyrRJezfvdMqRdBeyY2x0JzStTgbs4776Yujue+PKjd60X9WoGvGe7F5y8= -->
<html manifest="editor.appcache" class="gr__threejsplaygnd_brangerbriz_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
		<title>_playGnd - sketch</title>
		<link rel="stylesheet" href="./sketch_files/codemirror.css">
		<script async="" src="./sketch_files/analytics.js.download"></script><script src="./sketch_files/codemirror.js.download"></script>
		<script src="./sketch_files/xml.js.download"></script>
		<script src="./sketch_files/javascript.js.download"></script>
		<script src="./sketch_files/css.js.download"></script>
		<script src="./sketch_files/htmlmixed.js.download"></script>
		<script src="./sketch_files/rawinflate.js.download"></script>
		<script src="./sketch_files/rawdeflate.js.download"></script>
		<script src="./sketch_files/esprima.js.download"></script>
		<style>
			@font-face {

				font-family: 'inconsolata';
				src: url('files/inconsolata.woff') format('woff');
				font-weight: normal;
				font-style: normal;

			}

			html, body {

				height: 100%;

			}

			body {

				margin: 0px;
				overflow: hidden;

				font-family: Arial;

			}

			a {

				color: #ffffff;

			}

			h1 {

				font-size: 20px;
				margin-top: 0px;

			}

			.button {

				font-size: 10px;
				text-transform: uppercase;
				text-decoration: none;

				/*color: rgb(80,80,80);*/
				border: transparent;
				/*background-color: rgb(235,235,235);*/
				color:#fff;
				background-color: #000;

				padding: 8px 10px;
				margin-right: -3px;

				cursor: pointer;

			}

			.button:hover {

				/*color: rgb(235,235,235);*/
				/*background-color: rgb(80,80,80);*/
				color:#fff;
				background-color:#e43f8c;
			}


			.button path {

				stroke: rgb(80,80,80);

			}

			.button:hover path {

				stroke: rgb(235,235,235);

			}

			#preview {

				position: absolute;
				left: 0px;
				top: 0px;
				width: 100%;
				height: 100%;

			}

			#editor {

				position: absolute;
				width: 100%;
				height: 100%;

			}

			#editor .CodeMirror {

				height: 100%;
				font-family: inconsolata;
				font-size: 16px;
				background-color: rgba(255,255,255,0.85);

				-webkit-transform: translateZ(0); /* Workaround for OSX antialias issue */

			}

			#editor .CodeMirror-scroll {

				height: 100%;

			}

			#editor .CodeMirror div.CodeMirror-selected {

				background: rgba(0,0,0,0.1);

			}

			#editor .CodeMirror-focused div.CodeMirror-selected {

				background: rgba(0,0,255,0.1);

			}

			#editor .CodeMirror .errorLine {

				background: rgba(255,0,0,0.25);

			}

			#editor .CodeMirror .esprima-error {

				color: #f00;
				text-align: right;
				padding: 0px 20px;

			}

			#toolbar {

				position: absolute;
				top: 15px;
				right: 30px;
				text-align: right;
				z-index: 99999999;
			}

			#popup {

				position: absolute;
				/*color: rgb(235,235,235);*/
				color:#fff;
				padding: 20px 20px 20px 20px;
				/*background-color: rgb(80,80,80);*/
				background-color: #000;
				z-index: 99999999;
			}

		</style>
	</head>
	<body data-gr-c-s-loaded="true">


<!-- 		<h1>
			<a href="http://brangerbriz.com" target="_blank"><img src="../images/spin2.gif"></a>
			<a href="http://threejsplaygnd.brangerbriz.net"> _three.js playGnd</a>
		<\/h1>
		<br>
		built on the shoulders of these open source projects<br>
		<a href="http://threejs.org/" target="_blank">three.js</a>
		+<br>
		<a href="http://github.com/mrdoob/htmleditor" target="_blank">HTML Editor</a>,
		<a href="http://codemirror.net/" target="_blank">CodeMirror</a>, and
		<a href="https://code.google.com/p/dat-gui/" target="_blank">dat.GUI</a>
		+<br>
		inspired by the ideas/worx of<br>
		<a href="http://hyperland.com/" target="_blank">Ted Nelson</a> and
		<a href="http://www.mrdoob.com/" target="_blank">Mr.doob</a> -->


		<div id="preview"><iframe style="width: 100%; height: 100%; border: 0px;" src="./sketch_files/saved_resource.html"></iframe></div>
		<div id="editor"><div class="CodeMirror cm-s-default" style="display: none;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 0px;"><textarea autocorrect="off" autocapitalize="off" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" style="left: 29px;"><div style="height: 1px;"></div></div><div class="CodeMirror-vscrollbar" style="display: block; bottom: 0px;"><div style="width: 1px; height: 1360px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative; min-height: 100%;"><div class="CodeMirror-sizer" style="min-width: 33px; margin-left: 29px; min-height: 1360px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span class="cm-meta">&lt;</span><span class="cm-meta">!</span><span class="cm-meta">D</span><span class="cm-meta">O</span><span class="cm-meta">C</span><span class="cm-meta">T</span><span class="cm-meta">Y</span><span class="cm-meta">P</span><span class="cm-meta">E</span><span class="cm-meta"> </span><span class="cm-meta">h</span><span class="cm-meta">t</span><span class="cm-meta">m</span><span class="cm-meta">l</span><span class="cm-meta">&gt;</span></pre></div><div style="position: relative; z-index: 1; display: none;"></div><div style=""><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">1</div></div><pre><span class="cm-meta">&lt;!DOCTYPE html&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">2</div></div><pre><span class="cm-tag">&lt;html&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">3</div></div><pre><span class="cm-tab">    </span><span class="cm-tag">&lt;head&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">4</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">&lt;meta</span> <span class="cm-attribute">charset</span>=<span class="cm-string">"utf-8"</span><span class="cm-tag">&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">5</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">&lt;style&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">6</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">body</span> {</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">7</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-property">background-color</span><span class="cm-operator">:</span> <span class="cm-atom">#ffffff</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">8</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-property">margin</span><span class="cm-operator">:</span> <span class="cm-number">0</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">9</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-property">overflow</span><span class="cm-operator">:</span> <span class="cm-string-2">hidden</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">10</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span>}</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">11</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">&lt;/style&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">12</div></div><pre><span class="cm-tab">    </span><span class="cm-tag">&lt;/head&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">13</div></div><pre><span class="cm-tab">    </span><span class="cm-tag">&lt;body&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">14</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">15</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">&lt;script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"http://threejsplaygnd.brangerbriz.net/js/three.min.js"</span><span class="cm-tag">&gt;&lt;/script&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">16</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">&lt;script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"http://threejsplaygnd.brangerbriz.net/js/Detector.js"</span><span class="cm-tag">&gt;&lt;/script&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">17</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tag">&lt;script&gt;</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">18</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">19</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">if</span> ( ! <span class="cm-variable">Detector</span>.<span class="cm-property">webgl</span> ) <span class="cm-variable">Detector</span>.<span class="cm-property">addGetWebGLMessage</span>();</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">20</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">21</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">var</span> <span class="cm-variable">camera</span>, <span class="cm-variable">scene</span>, <span class="cm-variable">renderer</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">22</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">var</span> <span class="cm-variable">geometry</span>, <span class="cm-variable">material</span>, <span class="cm-variable">mesh</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">23</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">24</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">function</span> <span class="cm-variable">setup</span>() {</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">25</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">26</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">var</span> <span class="cm-def">W</span> = <span class="cm-variable">window</span>.<span class="cm-property">innerWidth</span>, <span class="cm-def">H</span> = <span class="cm-variable">window</span>.<span class="cm-property">innerHeight</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">27</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">renderer</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">WebGLRenderer</span>();</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">28</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">renderer</span>.<span class="cm-property">setSize</span>( <span class="cm-variable-2">W</span>, <span class="cm-variable-2">H</span> );</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">29</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">document</span>.<span class="cm-property">body</span>.<span class="cm-property">appendChild</span>( <span class="cm-variable">renderer</span>.<span class="cm-property">domElement</span> );</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">30</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">31</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">camera</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">PerspectiveCamera</span>( <span class="cm-number">50</span>, <span class="cm-variable-2">W</span>/<span class="cm-variable-2">H</span>, <span class="cm-number">1</span>, <span class="cm-number">10000</span> );</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">32</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">camera</span>.<span class="cm-property">position</span>.<span class="cm-property">z</span> = <span class="cm-number">500</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">33</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">34</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">scene</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">Scene</span>();</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">35</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">36</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">37</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-comment">// paste your code from the geometryGUI here</span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">38</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">map</span> = <span class="cm-variable">THREE</span>.<span class="cm-property">ImageUtils</span>.<span class="cm-property">loadTexture</span>(<span class="cm-string">'../texturez/water.jpg'</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">39</div></div><pre><span class="cm-variable">geometry</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">TorusKnotGeometry</span>(<span class="cm-number">200</span>, <span class="cm-number">195.11</span>, <span class="cm-number">100</span>, <span class="cm-number">100</span>, <span class="cm-number">5</span>, <span class="cm-number">1</span>, <span class="cm-number">8.44</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">40</div></div><pre><span class="cm-variable">material</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">MeshLambertMaterial</span>({<span class="cm-property">shading</span>: <span class="cm-variable">THREE</span>.<span class="cm-property">SmoothShading</span>, <span class="cm-property">color</span>: <span class="cm-number">0xdcdcdc</span>, <span class="cm-property">map</span>: <span class="cm-variable">map</span>, <span class="cm-property">side</span>: <span class="cm-variable">THREE</span>.<span class="cm-property">DoubleSide</span>, <span class="cm-property">transparent</span>: <span class="cm-atom">true</span>, <span class="cm-property">opacity</span>: <span class="cm-number">0.42</span>});</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">41</div></div><pre><span class="cm-variable">mesh</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">Mesh</span>(<span class="cm-variable">geometry</span>, <span class="cm-variable">material</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">42</div></div><pre><span class="cm-variable">map</span>.<span class="cm-property">wrapS</span> = <span class="cm-variable">map</span>.<span class="cm-property">wrapT</span> = <span class="cm-variable">THREE</span>.<span class="cm-property">RepeatWrapping</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">43</div></div><pre><span class="cm-variable">map</span>.<span class="cm-property">repeat</span>.<span class="cm-property">set</span>( <span class="cm-number">10</span>, <span class="cm-number">10</span> );</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">44</div></div><pre><span class="cm-variable">mesh</span>.<span class="cm-property">scale</span>.<span class="cm-property">x</span> = <span class="cm-variable">mesh</span>.<span class="cm-property">scale</span>.<span class="cm-property">y</span> = <span class="cm-variable">mesh</span>.<span class="cm-property">scale</span>.<span class="cm-property">z</span> = <span class="cm-number">0.35</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">45</div></div><pre><span class="cm-variable">mesh</span>.<span class="cm-property">position</span>.<span class="cm-property">y</span> = <span class="cm-number">4.41</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">46</div></div><pre><span class="cm-variable">mesh</span>.<span class="cm-property">rotation</span>.<span class="cm-property">x</span> = <span class="cm-number">5.82</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">47</div></div><pre><span class="cm-variable">mesh</span>.<span class="cm-property">rotation</span>.<span class="cm-property">y</span> = <span class="cm-number">1.24</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">48</div></div><pre><span class="cm-variable">scene</span>.<span class="cm-property">add</span>(<span class="cm-variable">mesh</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">49</div></div><pre><span class="cm-variable">hemisphereLight</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">HemisphereLight</span>(<span class="cm-number">0xffffff</span>, <span class="cm-number">0x000000</span>, <span class="cm-number">1.99</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">50</div></div><pre><span class="cm-variable">scene</span>.<span class="cm-property">add</span>( <span class="cm-variable">hemisphereLight</span> );</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">51</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">52</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">53</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">54</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span>}</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">55</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">56</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">function</span> <span class="cm-variable">knot</span>() {</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">57</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">scene</span>.<span class="cm-property">remove</span>(<span class="cm-variable">mesh</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">58</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">var</span> <span class="cm-def">x</span> = <span class="cm-variable">Date</span>.<span class="cm-property">now</span>() *<span class="cm-number">0.001</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">59</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">geometry</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">TorusKnotGeometry</span>(<span class="cm-number">200</span>, <span class="cm-number">195.11</span>, <span class="cm-number">100</span>, <span class="cm-number">100</span>, <span class="cm-number">5</span>, <span class="cm-number">1</span>, <span class="cm-number">8.44</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">60</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">material</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">MeshLambertMaterial</span>({<span class="cm-property">shading</span>: <span class="cm-variable">THREE</span>.<span class="cm-property">SmoothShading</span>, <span class="cm-property">color</span>: <span class="cm-number">0xdcdcdc</span>, <span class="cm-property">map</span>: <span class="cm-variable">map</span>, <span class="cm-property">side</span>: <span class="cm-variable">THREE</span>.<span class="cm-property">DoubleSide</span>, <span class="cm-property">transparent</span>: <span class="cm-atom">true</span>, <span class="cm-property">opacity</span>: <span class="cm-number">0.42</span>});</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">61</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">mesh</span> = <span class="cm-keyword">new</span> <span class="cm-variable">THREE</span>.<span class="cm-property">Mesh</span>(<span class="cm-variable">geometry</span>, <span class="cm-variable">material</span>);</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">62</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">mesh</span>.<span class="cm-property">scale</span>.<span class="cm-property">x</span> = <span class="cm-variable">mesh</span>.<span class="cm-property">scale</span>.<span class="cm-property">y</span> = <span class="cm-variable">mesh</span>.<span class="cm-property">scale</span>.<span class="cm-property">z</span> = <span class="cm-number">1.52</span>;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">63</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">scene</span>.<span class="cm-property">add</span>(<span class="cm-variable">mesh</span>);<span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">64</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span>}</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">65</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">66</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-keyword">function</span> <span class="cm-variable">draw</span>() {</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">67</div></div><pre>&nbsp;</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">68</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-variable">requestAnimationFrame</span>( <span class="cm-variable">draw</span> );</pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">69</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span></pre></div><div style="position: relative;"><div style="position: absolute; left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">70</div></div><pre><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-tab">    </span><span class="cm-comment">// experiment with code from the snippets menu here</span></pre></div></div><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 0px;">&nbsp;</div><div class="CodeMirror-cursor CodeMirror-secondarycursor" style="display: none;">&nbsp;</div></div></div></div></div><div style="position: absolute; height: 30px; top: 1360px;">&nbsp;</div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 28px;"></div></div></div></div></div></div>
		<div id="toolbar"><button class="button">show code</button><br><span style="display: none;"><button class="button">share</button><button class="button">Remix</button><button class="button">about</button></span></div>
		<div id="popup" style="display: none; left: 715.5px; top: 457.5px;"><svg width="32" height="32" style="position: absolute; top: 5px; right: 5px; cursor: pointer;"><path d="M 9,12 L 11,10 L 15,14 L 19,10 L 21,12 L 17,16 L 21,20 L 19,22 L 15,18 L 11,22 L 9,20 L 13,16" fill="rgb(255,255,255)"></path></svg><div></div></div>
		<script>

			window.URL = window.URL || window.webkitURL;

			// deflate

			var decode = function ( string ) {

				return RawDeflate.inflate( window.atob( string ) );

			};

			var encode = function ( string ) {

				return window.btoa( RawDeflate.deflate( string ) );

			};

			//
			/*var encodeJG = '\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta charset="utf-8">\n\t\t\t\t<style>\n\t\t\t\t\tbody {\n\t\t\t\t\t\tbackground-color: #ffffff;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\n\t\t\t\t<script src="//brangerbriz.com/labs/threejs_playGnd/js/three.min.js"><\/script>\n\t\t\t\t<script src="//brangerbriz.com/labs/threejs_playGnd/js/Detector.js"><\/script>\n\t\t\t\t<script>\n\n\t\t\t\t\tif ( ! Detector.webgl ) Detector.addGetWebGLMessage();\n\n\t\t\t\t\tvar camera, scene, renderer;\n\t\t\t\t\tvar geometry, material, mesh;\n\n\t\t\t\t\tfunction setup() {\n\n\t\t\t\t\t\tvar W = window.innerWidth, H = window.innerHeight;\n\t\t\t\t\t\trenderer = new THREE.WebGLRenderer( { preserveDrawingBuffer: true } );\n\t\t\t\t\t\trenderer.autoClearColor = false;\n\t\t\t\t\t\trenderer.setSize( W, H );\n\t\t\t\t\t\tdocument.body.appendChild( renderer.domElement );\n\n\t\t\t\t\t\tcamera = new THREE.PerspectiveCamera( 50, W/H, 1, 10000 );\n\t\t\t\t\t\tcamera.position.z = 500;\n\n\t\t\t\t\t\tscene = new THREE.Scene();\n\n\n\t\t\t\t\t\tfor ( var i = 0; i < 100; i ++ ) {\n\t\t\t\t\t\t\tmap = THREE.ImageUtils.loadTexture(\'../texturez/soup.jpg\');\n\t\t\t\t\t\t\tgeometry = new THREE.CylinderGeometry(100, 100, 269.12, 50, 50, false);\n\t\t\t\t\t\t\tmaterial = new THREE.MeshBasicMaterial({shading: THREE.FlatShading, color: 0xffffff, map: map});\n\t\t\t\t\t\t\tmesh = new THREE.Mesh(geometry, material);\n\t\t\t\t\t\t\tmap.wrapS = map.wrapT = THREE.RepeatWrapping;\n\t\t\t\t\t\t\tmap.repeat.set( 1, 1 );\n\t\t\t\t\t\t\tmesh.position.x = Math.random() * 1000 - 500;\n\t\t\t\t\t\t\tmesh.position.y = Math.random() * 1000 - 500;\n\t\t\t\t\t\t\tmesh.position.z = Math.random() * 1000 - 500;\n\t\t\t\t\t\t\tmesh.rotation.x = Math.random() * 2 * Math.PI;\n\t\t\t\t\t\t\tmesh.rotation.y = Math.random() * 2 * Math.PI;\n\t\t\t\t\t\t\tmesh.rotation.z = Math.random() * 2 * Math.PI;\n\t\t\t\t\t\t\tmesh.scale.x = mesh.scale.y = mesh.scale.z = 0.48;\n\t\t\t\t\t\t\tscene.add( mesh );\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction draw() {\n\n\t\t\t\t\t\trequestAnimationFrame( draw );\n\n\t\t\t\t\t\tcamera.position.z = Math.sin( Date.now() * 0.002 ) * 500;\n\n\t\t\t\t\t\tcamera.lookAt(mesh.position);\n\n\t\t\t\t\t\trenderer.render( scene, camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tsetup();\n\t\t\t\t\tdraw();\n\n\t\t\t\t<\/script>\n\n\t\t\t</body>\n\t\t\t</html>\n\t\t';

			console.log('encodeJG', encode(encodeJG))*/
			console.log("echo location hash");
			console.log(window.location.hash);


			var defaultCode = decode( 'nVRbT9swFH5Of8Whe1g6BScgIU1tQdqgo5NAQ8BU7dGNTxOzxM4ch9Ai/vt8SaCFPUxUbeKey3cu3/GZ7p39OL39dTWDXJfFyWDqX8E0R8rMO5iWqCmkOVU16uNho1f7n4dOUet1gfYULCVbw6M9BUua/s6UbATbT2Uh1Rg+rNxn4tQlVRkXY0j8X3mPalXIdgw5ZwyFkz5Z8LhHn8ZdJlMbxQdOFa801Co9HuZaV+M41rlCvKurgq4zwchSUZGhWiq+IQJ1fFd7C1JyQe7q4YnBdyDvxztDjamW6hXcC547B3wFIezBs3WLy6yA0YuAMnaOeoHL84tLrGuaYThybbC/e6ogpSUqGkGdosAIFAqGCtWk12coDUVqHUFJNSpOiwiWhczkZNCbGOaaCo5h1YhUcykgHBm6HANWvTCqlgsmW8KFQLXgTOcRzF+J58izXHvi+iyMicAWbufXsxlxRVx3mq6KZ0tikrjhGwxhYaE7LZNpU6LQxJJLaFUZ69OcFyx8LpQwWc4KtFa9l2/JTuwrVHVlOsrv8dRpQzhKIljE8wgOzDdJkl1vUsma22aQjQE6SrqJdF3eQb6xkr6al4dtXEltV73Z99JQ91PzoiaFpOwWH3SjMPxISKz9eRM7WkjGVx9HFgMAgp6znZBmEPKvtObpZacNH22ssQv45FOxzj31u/lWuWnbeacKDw5NG/pHV4VN403A8O0gjbZ6Ygc1tI7bnfjf7LtVkDz4XRCZuVK4UoaIMWjV4JbgghskO4BjOOxKDUqD+K58wXka8cAvlv5CMEXbf98HhX8arPUXwQ2oUX2zOYXeYbtyx6SS2hkRy4ANtSs5M2kRIdtw9CkhZgCPJsFg9074Q9jf7W6uR5OtdN3d7cbPZhF67dYCm8Z+M5pNaXf3Xw==' );


			var QueryString = function () {
			  // This function is anonymous, is executed immediately and
			  // the return value is assigned to QueryString!
			  var query_string = {};
			  var query = window.location.search.substring(1);
			  var vars = query.split("&");
			  for (var i=0;i<vars.length;i++) {
			    var pair = vars[i].split("=");
			    	// If first entry with this name
			    if (typeof query_string[pair[0]] === "undefined") {
			      query_string[pair[0]] = pair[1];
			    	// If second entry with this name
			    } else if (typeof query_string[pair[0]] === "string") {
			      var arr = [ query_string[pair[0]], pair[1] ];
			      query_string[pair[0]] = arr;
			    	// If third or later entry with this name
			    } else {
			      query_string[pair[0]].push(pair[1]);
			    }
			  }
			    return query_string;
			} ();


			var documents = [ { filename: 'webgl_sketch', filetype: 'text/plain', autoupdate: true, code: defaultCode } ];

			if ( localStorage.codeeditor !== undefined ) {

				documents = JSON.parse( localStorage.codeeditor );

			}

			if ( window.location.hash ) {

				var hash = window.location.hash.substr( 1 );
				var version = hash.substr( 0, 2 );

				if ( version == 'A/' ) {

					alert( 'That shared link format is no longer supported.' );

				} else if ( version == 'B/' ) {

					documents[ 0 ].code = decode( hash.substr( 2 ) );

				}

			}


			// preview

			var preview = document.getElementById( 'preview' );

			// editor

			var interval;

			var editor = CodeMirror( document.getElementById( 'editor' ), {

				value: documents[ 0 ].code,
				readOnly: true,
				mode: 'text/html',
				lineNumbers: true,
				matchBrackets: true,
				indentWithTabs: true,
				tabSize: 4,
				indentUnit: 4

			} );


			var element = editor.getWrapperElement();

			// toolbar

			var toolbar = document.getElementById( 'toolbar' );


			// SHOW CODE BUTTON
			var buttonHide = document.createElement( 'button' );
			buttonHide.className = 'button';
			buttonHide.textContent = 'hide code';
			buttonHide.addEventListener( 'click', function ( event ) {

				toggle();
				menu.style.display = menu.style.display === '' ? 'none' : '';

			}, false );
			toolbar.appendChild( buttonHide );


			toolbar.appendChild( document.createElement( 'br' ) );


			var menu = document.createElement( 'span' );
			menu.style.display = 'none';
			toolbar.appendChild( menu );


			// MENU

			var buttonShare = document.createElement( 'button' );
			buttonShare.className = 'button';
			buttonShare.textContent = 'share';
			buttonShare.addEventListener( 'click', function ( event ) {

				var div = document.createElement( 'div' );

				if(QueryString.id==undefined){
					var dom = document.createElement( 'div' );
					dom.innerHTML = 'to get embed code visit the <a href="//threejsplaygnd.brangerbriz.com/archive/" target="_blank">three.js playGnd archive</a>';
					dom.style.padding = '5px';
					dom.style.border = '0px';
					div.appendChild( dom );
				} else {
					var dom = document.createElement( 'div' );
					dom.innerHTML = 'short url';
					dom.style.padding = '5px';
					dom.style.border = '0px';
					div.appendChild( dom );

					var surl = document.createElement( 'input' );
					surl.value = '//threejsplaygnd.brangerbriz.com/s/?id='+QueryString.id.substring(2);
					surl.style.width = '400px';
					surl.style.padding = '5px';
					surl.style.marginTop = '20px';
					surl.style.border = '0px';
					div.appendChild( surl );

					var dom = document.createElement( 'div' );
					dom.innerHTML = 'long url';
					dom.style.padding = '5px';
					dom.style.border = '0px';
					dom.style.marginTop = '15px';
					div.appendChild( dom );

					var url = document.createElement( 'input' );
					url.value = '//brangerbriz.net/labs/threejs_playGnd/editor/#B/' + encode( editor.getValue() );
					url.style.width = '400px';
					url.style.padding = '5px';
					url.style.marginTop = '20px';
					url.style.border = '0px';
					div.appendChild( url );

					var dom = document.createElement( 'div' );
					dom.innerHTML = 'embed code';
					dom.style.padding = '5px';
					dom.style.border = '0px';
					dom.style.marginTop = '15px';
					div.appendChild( dom );

					var embed = document.createElement( 'input' );
					embed.value = '<iframe width="640" height="360" src="//threejsplaygnd.brangerbriz.com/editor/#B/' + encode( editor.getValue() ) +'"></iframe>';
					embed.style.width = '400px';
					embed.style.padding = '5px';
					embed.style.marginTop = '20px';
					embed.style.border = '0px';
					div.appendChild( embed );
				}




				popup.set( div );
				popup.show();

				surl.focus();
				surl.select();


			}, false );
			menu.appendChild( buttonShare );


			// Changed RESET BUTTON TO 'FORK' ------------------------------------------ ../n!ck
			var buttonFork = document.createElement( 'button' );
			buttonFork.className = 'button';
			buttonFork.textContent = 'Remix';
			buttonFork.addEventListener( 'click', function ( event ) {

				var dom = document.createElement( 'div' );
				dom.innerHTML = 'Hey! If you\'re new to the threejs_playGnd <a href="//threejsplaygnd.brangerbriz.com" target="_blank">click here first</a> to learn what it\'s all about. <br><br> Otherwise, <a href="//threejsplaygnd.brangerbriz.com/editor/editor.html?id='+QueryString.id+'&data='+hash.substr( 2 )+'" target="_blank">click here</a> to "fork" this sketch and edit your own variation';
				dom.style.width = '400px';
				dom.style.padding = '5px';
				dom.style.marginTop = '20px';
				dom.style.border = '0px';

				popup.set( dom );
				popup.show();


			}, false );
			menu.appendChild( buttonFork );



			var buttonAbout = document.createElement( 'button' );
			buttonAbout.className = 'button';
			buttonAbout.textContent = 'about';
			buttonAbout.addEventListener( 'click', function ( event ) {

				var dom = document.createElement( 'div' );
				dom.style.width = '400px';
				dom.style.padding = '5px';
				dom.style.border = '0px';
				dom.style.textAlign = 'center';
				dom.innerHTML = '<h1><div style="float:left;margin-top:-60px"><a href="//brangerbriz.com" target="_blank"><img src="../images/spin2.gif"></a></div><div style="margin-top:50px;margin-right:90px;"><a href="//threejsplaygnd.brangerbriz.com"> _three.js playGnd</a></div><\/h1><br><br><br><br>built on the shoulders of these open source projects<br><a href="http://threejs.org/" target="_blank">three.js</a> ++ <a href="http://github.com/mrdoob/htmleditor" target="_blank">HTML Editor</a>, <a href="http://codemirror.net/" target="_blank">CodeMirror</a>, and <a href="https://code.google.com/p/dat-gui/" target="_blank">dat.GUI</a><br><br>inspired by the ideas/worx of<br><a href="http://hyperland.com/" target="_blank">Ted Nelson</a> and <a href="http://www.mrdoob.com/" target="_blank">Mr.doob</a>';
				popup.set( dom );
				popup.show();

			}, false );
			menu.appendChild( buttonAbout );


			// popup

			var popup = ( function () {

				var scope = this;

				var element = document.getElementById( 'popup' );
				element.style.display = 'none';

				var buttonClose = ( function () {

					var svg = document.createElementNS( 'http://www.w3.org/2000/svg', 'svg' );
					svg.setAttribute( 'width', 32 );
					svg.setAttribute( 'height', 32 );

					var path = document.createElementNS( 'http://www.w3.org/2000/svg', 'path' );
					path.setAttribute( 'd', 'M 9,12 L 11,10 L 15,14 L 19,10 L 21,12 L 17,16 L 21,20 L 19,22 L 15,18 L 11,22 L 9,20 L 13,16' );
					path.setAttribute( 'fill', 'rgb(255,255,255)' );
					svg.appendChild( path );

					return svg;

				} )();

				buttonClose.style.position = 'absolute';
				buttonClose.style.top = '5px';
				buttonClose.style.right = '5px';
				buttonClose.style.cursor = 'pointer';
				buttonClose.addEventListener( 'click', function ( event ) {

					scope.hide();

				}, false );
				element.appendChild( buttonClose );

				var content = document.createElement( 'div' );
				element.appendChild( content );

				var update = function () {

					element.style.left = ( ( window.innerWidth - element.offsetWidth ) / 2 ) + 'px';
					element.style.top = ( ( window.innerHeight - element.offsetHeight ) / 2 ) + 'px';

				};

				window.addEventListener( 'load', update, false );
				window.addEventListener( 'resize', update, false );

				//

				this.show = function () {

					element.style.display = '';
					update();

				};

				this.hide = function () {

					element.style.display = 'none';

				};

				this.set = function ( value ) {

					while ( content.children.length > 0 ) {

						content.removeChild( content.firstChild );

					}

					content.appendChild( value );

				};

				return this;

			} )();





			// actions

			var update = function () {

				var value = editor.getValue();


					if ( preview.children.length > 0 ) {

						preview.removeChild( preview.firstChild );

					}

					var iframe = document.createElement( 'iframe' );
					iframe.style.width = '100%';
					iframe.style.height = '100%';
					iframe.style.border = '0';
					preview.appendChild( iframe );

					var content = iframe.contentDocument || iframe.contentWindow.document;

					// workaround for chrome bug
					// http://code.google.com/p/chromium/issues/detail?id=35980#c12

					value = value.replace( '<script>', '<script>if ( window.innerWidth === 0 ) { window.innerWidth = parent.innerWidth; window.innerHeight = parent.innerHeight; }' );

					content.open();
					content.write( value );
					content.close();

			};


			var toggle = function () {

				if ( element.style.display === '' ) {

					buttonHide.textContent = 'show code';

					element.style.display = 'none';
					menu.style.display = '';
					buttonShare.display = 'none';

				} else {

					buttonHide.textContent = 'hide code';

					element.style.display = '';
					menu.style.display = 'none';
					buttonShare.display = '';

				}

			};

			update();

			buttonHide.click(); // ----- HIDE THE SOURCE ONLOAD ../n!ck

		</script>
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-6098550-26', 'brangerbriz.net');
		  ga('send', 'pageview');

		</script>

	

</body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span></html>